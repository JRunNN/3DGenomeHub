import{d as te,r as o,m as R,o as se,q as ae,b as $,c as d,h as u,j as z,w as V,g as e,s as q,v as le,F as y,k as T,t as p,u as oe,x as ne,y as M,z as re,l as H,A as ie,B as ce,p as de,i as ue,f as N,C as pe,_ as ge}from"./index-fe3c5ff0.js";import{u as he}from"./use-loading-bar-b8eea68e.js";const c=m=>(de("data-v-57c971df"),m=m(),ue(),m),ve={class:"mx-auto max-w-8xl"},me=c(()=>e("ul",null,[e("li",{class:"flex space-x-3 items-center mb-2"},[e("svg",{class:"flex-shrink-0 w-5 h-5 text-primary-600 dark:text-primary-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),e("p",{class:"text-xl font-light text-gray-500"}," This page contains transcription-associated chromatin interactions from 78 cancer and 60 non-cancer cell types. ")]),e("li",{class:"flex space-x-3 items-center mb-2"},[e("svg",{class:"flex-shrink-0 w-5 h-5 text-primary-600 dark:text-primary-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),e("p",{class:"text-xl font-light text-gray-500"}," Filter using Cell Types, Disease status, Body Sites or Assays")]),e("li",{class:"flex space-x-3 items-center"},[e("svg",{class:"flex-shrink-0 w-5 h-5 text-primary-600 dark:text-primary-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),e("p",{class:"text-xl font-light text-gray-500"},[N(" Click "),e("svg",{class:"inline mb-1 w-4 h-4 text-grey-500 hover:text-blue-500 transition-colors duration-300","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11v4.833A1.166 1.166 0 0 1 13.833 17H2.167A1.167 1.167 0 0 1 1 15.833V4.167A1.166 1.166 0 0 1 2.167 3h4.618m4.447-2H17v5.768M9.111 8.889l7.778-7.778"})]),N(" in Action column to access a dedicated page for each cell type. Track view and tabular view of Active Browser is provided. ")])])],-1)),fe={class:"mt-4"},xe={class:"grid grid-cols-5 gap-6 mt-4"},be={class:"bg-white hidden lg:block col-span-1 rounded-lg border border-gray-200 p-5 flex-1"},_e={class:"mb-5"},ye=c(()=>e("h5",{class:"uppercase text-sm font-medium text-gray-500 dark:text-gray-400 mb-4"},"Filter By",-1)),ke=c(()=>e("div",{class:"grid grid-cols-2 rounded-md shadow-sm w-full",role:"group"},null,-1)),we=c(()=>e("hr",{class:"bg-gray-200 dark:border-gray-700 mb-5"},null,-1)),Ce={class:"relative flex-shrink-0 w-full mb-4 lg:mb-4 lg:mr-5"},Ae=c(()=>e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-400"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),Be=c(()=>e("label",{for:"search",class:"hidden"},"Search cell names",-1)),Se=c(()=>e("hr",{class:"bg-gray-200 dark:border-gray-700 mb-5"},null,-1)),ze={class:"mb-5"},Te={class:"uppercase text-sm font-medium text-gray-500 dark:text-gray-400 mb-4"},Me=["onClick"],De={class:"flex items-center"},je={class:"text-gray-900 dark:text-white text-base font-medium group-hover:text-blue-700 dark:group-hover:text-blue-600"},Le={class:"text-base font-medium text-gray-500 dark:text-gray-400 group-hover:text-blue-700 dark:group-hover:text-blue-600"},Ee={key:0,class:"mb-2"},Pe=["onClick"],Re=c(()=>e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)),$e=[Re],Ve=c(()=>e("hr",{class:"bg-gray-200 dark:border-gray-700 mb-5"},null,-1)),qe={class:"flex justify-between"},He={class:"mb-4 flex items-center min-h-[28px]"},Ne={class:"text-sm font-medium text-gray-900 dark:text-white mr-3 flex-shrink-0"},Fe={class:"mb-4 flex items-center"},Ge={class:"gap-3"},Ue=te({__name:"DataList",setup(m){const F=ne(),g=o([]),h=o([]),v=o([]),G=o([]),f=o(!0),D=o([]),j=o(0),L=o(0),k=o(1),w=o(10),E=o([]),x=o(0),C=R(()=>({page:k.value,pageCount:1,pageSize:w.value,itemCount:x.value}));let A=!0;const B=o(""),U=s=>{let t=[];return["disease_status","body_site","assays"].forEach(n=>{const a={};s.forEach(r=>{const i=r[n];n==="assays"?i.forEach(_=>{a[_]||(a[_]=0),a[_]++}):(a[i]||(a[i]=0),a[i]++)});const S=Object.entries(a).sort((r,i)=>i[1]-r[1]);t.push({category:n,options:S})}),t},K=[{title:"ID",key:"cell_id"},{title:"Disease",key:"disease_status"},{title:"Body Sites",key:"body_site"},{title:"Assays",key:"assays",render(s){return s.assays.map(t=>{let l;switch(t){case"ChIA-PET":l="red";break;case"HiChIP":l="blue";break;case"RNA-seq":l="green";break;case"ChIP-seq":l="purple";break;case"ATAC-seq":l="#000000";break;default:l="orange"}return M("div",{style:{backgroundColor:l,width:"10px",height:"10px",borderRadius:"50%",display:"inline-block",marginLeft:"5px"}})})}},{title:"Factor",key:"factor"},{title:"Action",key:"actions",render:function(s){return M("svg",{class:"w-4 h-4 text-grey-500 hover:text-blue-500 cursor-pointer transition-colors duration-300","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",onClick:t=>{O(s.cell_id)}},[M("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11v4.833A1.166 1.166 0 0 1 13.833 17H2.167A1.167 1.167 0 0 1 1 15.833V4.167A1.166 1.166 0 0 1 2.167 3h4.618m4.447-2H17v5.768M9.111 8.889l7.778-7.778"})])}}],O=s=>{F.push({name:"CellType",params:{id:s.replace(/[\s,]+/g,"-")}})},I=s=>{f.value||(k.value=s,f.value=!0)},Z=s=>{};function J(s){return s.replace(/([a-z])([A-Z])/g,"$1 $2")}const b=o([]),Q=(s,t)=>{console.log("enter toggleButton");const l=b.value.indexOf(s);console.log(t),l===-1?(console.log("not found"),b.value.push(s),t=="disease_status"&&!g.value.includes(s)&&g.value.push(s),t=="body_site"&&!h.value.includes(s)&&h.value.push(s),t=="assays"&&!v.value.includes(s)&&v.value.push(s)):(console.log(" found"),t=="disease_status"&&g.value.includes(s)&&(g.value=g.value.filter(n=>n!==s)),t=="body_site"&&h.value.includes(s)&&(h.value=h.value.filter(n=>n!==s)),t=="assays"&&v.value.includes(s)&&(v.value=v.value.filter(n=>n!==s)),b.value.splice(l,1))},W=s=>b.value.includes(s),X=[{name:"ChIA-PET",color:"red"},{name:"HiChIP",color:"blue"}],Y=R(()=>({diseaseStatus:g.value,bodySites:h.value,assays:v.value,factor:G.value,cellId:B.value,pagesize:w.value,page:k.value,includeInitialData:A})),ee=s=>{pe.get("/api/search/datalist",{responseType:"json",params:s,paramsSerializer:{indexes:null}}).then(t=>{console.log(t.data),f.value=!1,j.value=t.data.from,L.value=t.data.to,x.value=t.data.itemCount,C.value.itemCount=t.data.itemCount,C.value.pageCount=Math.ceil(x.value/w.value),D.value=t.data.data,A&&(E.value=U(t.data.initial_data),A=!1),P.finish()}).catch(function(t){t.response?(console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers)):t.request?console.log(t.request):console.log("Error",t.message),console.log(t.config)})},P=he();return se(()=>{ae(()=>Y,s=>{P.start(),ee(s.value)},{immediate:!0,deep:!0})}),(s,t)=>{const l=$("n-card"),n=$("n-data-table");return d(),u("div",ve,[z(l,{class:"rounded-lg",style:{"margin-bottom":"16px"}},{default:V(()=>[me,e("div",fe,[e("button",{type:"button",class:"mr-4 text-white bg-blue-700 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 font-medium rounded-full text-sm px-5 py-2.5 text-center me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",onClick:t[0]||(t[0]=a=>s.$router.push({name:"CellType",params:{id:"K562"}}))}," Try Example 1 (Cancer cell line K562) "),e("button",{type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 font-medium rounded-full text-sm px-5 py-2.5 text-center me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",onClick:t[1]||(t[1]=a=>s.$router.push({name:"CellType",params:{id:"GM12878"}}))}," Try Example 2 (Non-Cancer cell line GM12878) ")])]),_:1}),e("div",xe,[e("div",null,[e("aside",be,[e("div",_e,[ye,ke,we,e("div",Ce,[Ae,Be,q(e("input",{id:"search",type:"text",class:"bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 py-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Search cell names","onUpdate:modelValue":t[2]||(t[2]=a=>B.value=a)},null,512),[[le,B.value]])])]),Se,e("div",ze,[(d(!0),u(y,null,T(E.value,(a,S)=>(d(),u(y,{key:S},[e("h5",Te,p(J(a.category)),1),e("ul",null,[(d(!0),u(y,null,T(a.options,(r,i)=>q((d(),u("li",{class:"mb-3",key:i},[e("button",{type:"button",class:H(["flex items-center justify-between group w-full",{active:W(r[0])}]),onClick:_=>Q(r[0],a.category)},[e("span",De,[e("span",je,p(r[0]),1)]),e("span",Le,p(r[1]),1)],10,Me)])),[[re,i<5||a.showAll]])),128)),a.options.length>5?(d(),u("li",Ee,[e("button",{onClick:r=>a.showAll=!a.showAll,class:"flex justify-center items-center w-full"},[(d(),u("svg",{class:H([{"transform rotate-180":a.showAll},"w-4 h-4"]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},$e,2))],8,Pe)])):ie("",!0),Ve])],64))),128))])])]),z(l,{round:"",class:"bg-white col-span-5 lg:col-span-4"},{default:V(()=>[e("div",qe,[e("div",He,[e("span",Ne," Showing "+p(j.value)+" to "+p(L.value)+" cell types of "+p(x.value)+" in total. ",1)]),e("div",Fe,[(d(),u(y,null,T(X,a=>e("div",null,[e("div",{style:ce({backgroundColor:a.color,width:"10px",height:"10px",borderRadius:"50%",display:"inline-block",marginLeft:"16px",marginRight:"6px"})},null,4),e("span",null,p(a.name),1)])),64))])]),e("div",Ge,[z(n,{remote:"",bordered:!1,columns:K,loading:f.value,data:D.value,pagination:oe(C),"onUpdate:page":I,"onUpdate:sorter":Z},null,8,["loading","data","pagination"])])]),_:1})])])}}});const Ie=ge(Ue,[["__scopeId","data-v-57c971df"]]);export{Ie as default};
